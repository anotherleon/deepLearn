<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>localStorage</title>
</head>
<body>
    
</body>
<script>    
  function setCookie(name, value, days) { // 给cookie增加一个时间变量　
            var date = new Date()
            date.setTime(date.getTime() + days * 24 * 60 * 60 * 1000); //设置过期时间为days天　
            document.cookie = name + "=" + decodeURIComponent(value) + ";expires=" + date.toGMTString();
        }

        function getCookie(name) {
            var result = ''
            var myCookie = '' + document.cookie + ";"
            var searchName = '' + name + " = "
            var startOfCookie = myCookie.indexOf(searchName)
            var endOfCookie
            if (startOfCookie != -1) {
                startOfcookie += searchName.length
                endOfCookie = myCookie.indexOf(";", startOfCookie)
                result = (myCookie.substring(startOfCookie, endOfCookie))
            }
            return result
        }

        !window.localStorage && !function(win) {
  var thousandYears = 1e3 * 365 * 24 * 36e5;

  function getCookies() {
    return document.cookie.match(/([^;=]+)=([^;]+)/g) || [];
  }

  function getExpires(flag) {
    flag = flag || 1;

    return 'expires=' +
      (new Date((+new Date()) + thousandYears * flag)).toUTCString();
  }

  function get(key) {
    var cookies = getCookies();

    for (var i = 0; i < cookies.length; i++) {
      var param = cookies[i].match(/^\s*([^=]+)=(.+)/);

      if (param[1] === String(key)) {
        return decodeURIComponent(param[2]);
      }
    }

    return null;
  }

  function set(key, value, isExpired) {
    document.cookie = [
      key + '=' + encodeURIComponent(value),
      getExpires(isExpired ? -1 : 1),
      'path=/'
    ].join('; ');
  }

  function remove(key) {
    set(key, '', true);
  }

  function clear() {
    var cookies = getCookies();

    for (var i = 0; i < cookies.length; i++) {
      var key = cookies[i].match(/^\s*([^=]+)/)[1];
      remove(key);
    }
  }

  // 注册到 window 对象上
  win.localStorage = {
    getItem: get,
    setItem: set,
    removeItem: remove,
    clear: clear
  };
}(window);
</script>
</html>